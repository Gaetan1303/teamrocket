{% extends 'base.html.twig' %}

{% block title %}Team Rocket - Recrutement{% endblock %}

{% block body %}
<div data-controller="chat"
     data-chat-user-value="{{ app.user ? app.user.codename|e('js') : '' }}"
     data-chat-mercure-url-value="{{ MERCURE_PUBLIC_URL|e('js') }}"
     data-chat-teams-value='{{ teamData|json_encode|raw }}'
>
    <section style="max-width:800px;margin:1rem auto;background:#0b0b0b;padding:1rem;border:1px solid #222;border-radius:6px;">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;">
            <h2 style="margin:0">Chat</h2>
            <select data-chat-target="teamSelect" style="background:#111;color:#fff;border:1px solid #333;padding:0.4rem;border-radius:4px;"></select>
        </div>

        <div data-chat-target="list" style="max-height:300px;overflow:auto;padding:0.5rem;"></div>

        <form data-chat-target="form" data-action="submit->chat#send" style="display:flex;gap:0.5rem;margin-top:0.5rem;">
            <input data-chat-target="input" type="text" placeholder="Tapez votre message..." style="flex:1;padding:0.5rem;border-radius:4px;border:1px solid #333;" />
            <button type="submit" style="padding:0.5rem 1rem;border-radius:4px;border:none;background:#cc0000;color:#fff;">Envoyer</button>
        </form>
    </section>

</div>
<style>
    .chat-item img { width:32px; height:32px; border-radius:50%; }
    .chat-item { transition: background 120ms ease; }
    .chat-item:hover { background: rgba(255,255,255,0.02); }
</style>
{% endblock %}